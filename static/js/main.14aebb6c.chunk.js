(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){},21:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(8),s=a.n(c),o=(a(15),a(1)),i=a(2),l=a(4),u=a(3),h=a(5),m=(a(17),a(6)),d=(a(19),a(21),"\u25bc"),p="\u25b2",f=[31,28,31,30,31,30,31,30,31,30,31,30],y=function(e){var t=e.currValue>e.lastCurrValue;return n.a.createElement("div",{className:"info-card",style:{position:"absolute",top:"".concat(+e.y-55,"px"),left:"".concat(+e.x+20,"px")}},n.a.createElement("p",{className:"info-card__date"},function(e){if(e>366||e<1)return null;for(var t,a,r=0,n=0;n<f.length;n++){if(e-r<f[n]){e-r===0?(a=f[n-1],t=n-1):(t=n,a=e-r);break}r+=f[n]}return"".concat(a<10?"0":"").concat(a,".").concat(t+1<10?"0":"").concat(t+1,".2015")}(+e.days)),n.a.createElement("div",{className:"info-card__currency-rate"},n.a.createElement("span",{className:"info-card__currency"},e.currency),n.a.createElement("p",{className:"info-card__currency-value"},e.currValue),n.a.createElement("div",{className:"info-card__currency-dynamic-wrap"},n.a.createElement("span",{className:"info-card__currency-dynamic info-card__currency-dynamic".concat(t?"_up":"_down")},t?p:d),n.a.createElement("p",{className:"info-card__currency-dynamic info-card__currency-dynamic".concat(t?"_up":"_down")},t?e.currValue-e.lastCurrValue:e.lastCurrValue-e.currValue))))},v=30,_=[31,28,31,30,31,30,31,30,31,30,31,30],E=_.reduce(function(e,t){return e+t}),w=2,g=v+E*w+10,k=function(e,t){return[+e[0]*w+v,130-120/t*+e[1]]},x=function(e){var t="";t+="M".concat(e[0][0],",").concat(e[0][1]," ");for(var a=1;a<e.length;a++)t+="L".concat(e[a][0],",").concat(e[a][1]," ");return t},N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={x:0,y:0,showInfoCard:!1,maxYValue:null,spaceBetweenYBreakpoints:30},a._getNearestXPoint=function(e){for(var t,r=0,n=e.length-1,c=a.state.x-v;r-n!==1;){if(e[t=Math.floor((r+n)/2)][0]*w===c)return t;e[t][0]*w<c?r=t+1:n=t-1}return void 0===e[r-1]?r:void 0===e[r]?r-1:c-e[r-1][0]*w<e[r][0]*w-c?r-1:r},a.mousemoveHandler=function(e){var t=a.refs.svgChart.getBoundingClientRect(),r=t.x,n=t.y,c=Object(m.a)({},a.state);c.x=e.clientX-r,c.y=e.clientY-n,c.showInfoCard=!0,a.setState(c)},a.mouseleaveHandler=function(e){var t=Object(m.a)({},a.state);t.showInfoCard=!1,a.setState(t)},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=0;this.props.data.forEach(function(t){t[1]>e&&(e=t[1])});var t=30*Math.ceil(4),a=Math.ceil(t/30),r=10*Math.ceil(e/a/10);this.setState(Object(m.a)({},this.state,{sections:a,separator:r,maxYValue:r*a}))}},{key:"render",value:function(){if(null===this.state.maxYValue)return null;for(var e=[41,49,30,41,22,30,31,38,55,47,43,50],t=[],a=[],r=0;r<=this.state.sections;r++)t.push(n.a.createElement("text",{key:this.state.separator*r,x:"0",y:10+v*(this.state.sections-r),className:"y-scale__item"},this.state.separator*r)),a.push(n.a.createElement("line",{key:this.state.separator*r,x1:v,y1:10+this.state.spaceBetweenYBreakpoints*r,x2:g,y2:10+this.state.spaceBetweenYBreakpoints*r,style:{stroke:"lightgrey",strokeWidth:1},strokeDasharray:"2"}));var c,s,o=v,i=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"].map(function(t,a){return 0!==a&&(o+=_[a]*w),n.a.createElement("text",{key:t,x:o+_[a]*w/2-e[a]/2,y:150,className:"x-scale__item"},t)}),l=this._getNearestXPoint(this.props.data),u=k(this.props.data[l],this.state.maxYValue),h=null;return this.state.showInfoCard&&(h=n.a.createElement(y,{days:this.props.data[l][0],currValue:this.props.data[l][1],currency:"$",lastCurrValue:0!==l?this.props.data[l-1][1]:this.props.data[l][1],x:u[0],y:u[1]})),n.a.createElement("div",{className:"chart-wrapper"},h,n.a.createElement("svg",{ref:"svgChart",width:g,height:160,onMouseMove:this.mousemoveHandler,onMouseLeave:this.mouseleaveHandler},n.a.createElement("g",{className:"y-scale"},t),n.a.createElement("g",{className:"x-scale"},i),n.a.createElement("g",{className:"chart-lines"},a),n.a.createElement("g",{className:"chart"},n.a.createElement("path",{d:x((c=this.props.data,s=this.state.maxYValue,c.map(function(e){return k(e,s)}))),stroke:"#2d8ae8",strokeWidth:"2",fill:"transparent"}),n.a.createElement("g",null,n.a.createElement("line",{x1:u[0],y1:u[1],x2:u[0],y2:160-this.state.spaceBetweenYBreakpoints,style:{stroke:"lightgrey",strokeWidth:1},strokeDasharray:"2"}),n.a.createElement("circle",{cx:u[0],cy:u[1],r:"3",stroke:"#fff",strokeWidth:"2",fill:"#2d8ae8"})))))}}]),t}(r.Component),b=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){for(var e=[],t=1;t<364;t+=10)e.push([t,Math.floor(80*Math.random())]);return n.a.createElement("div",{className:"App"},n.a.createElement(N,{data:e}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(23)}},[[9,2,1]]]);
//# sourceMappingURL=main.14aebb6c.chunk.js.map